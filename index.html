<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Saber Club</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="stylesheet" href="/src/css/styles.css" />
    <script type="importmap">
      {
        "imports": {
          "three": "https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.module.js"
        }
      }
    </script>
  </head>
  <body>
    <div id="game-container">
      <!-- Main Menu -->
      <div id="main-menu">
        <div id="menu-title">SABER CLUB</div>
        <div id="menu-subtitle">CHOOSE YOUR BATTLE</div>
        <button class="menu-btn solo" id="btn-solo">‚öî SOLO VS AI</button>
        <button class="menu-btn pvp" id="btn-pvp">üë• PVP ONLINE</button>
      </div>

      <!-- PVP Lobby -->
      <div id="pvp-lobby">
        <div id="lobby-title">PVP ARENA</div>
        <div id="connection-status">‚óè DISCONNECTED</div>
        <div id="lobby-status">Enter a room code or create a new room</div>
        <div id="room-input-container">
          <input
            type="text"
            id="room-code-input"
            placeholder="ROOM CODE"
            maxlength="8"
          />
        </div>
        <button class="lobby-btn" id="btn-create-room">CREATE ROOM</button>
        <button class="lobby-btn" id="btn-join-room">JOIN ROOM</button>
        <div id="waiting-spinner"></div>
        <div id="opponent-info"></div>
        <button class="lobby-btn back" id="btn-back-menu">
          ‚Üê BACK TO MENU
        </button>
      </div>

      <!-- Game UI -->
      <div id="ui-overlay">
        <div id="title">SABER CLUB</div>
        <div id="game-mode-label">SOLO</div>
        <div id="crosshair"></div>
        <div id="hit-indicator">ENEMY HIT!</div>
        <div id="player-hit">YOU GOT HIT!</div>
        <div id="clash-indicator">‚öî CLASH ‚öî</div>
        <div id="health-bars">
          <div class="health-bar-container player-health">
            <div class="health-label">YOU</div>
            <div class="health-bar">
              <div
                class="health-fill"
                id="player-health-fill"
                style="width: 100%"
              ></div>
            </div>
          </div>
          <div class="health-bar-container enemy-health">
            <div class="health-label" id="enemy-label">ENEMY AI</div>
            <div class="health-bar">
              <div
                class="health-fill"
                id="enemy-health-fill"
                style="width: 100%"
              ></div>
            </div>
          </div>
        </div>
        <div id="stats">
          <div class="stat-line player-stat">
            YOUR HITS: <span id="player-hits">0</span>
          </div>
          <div class="stat-line enemy-stat">
            ENEMY HITS: <span id="enemy-hits">0</span>
          </div>
          <div class="stat-line">CLASHES: <span id="clash-count">0</span></div>
        </div>
        <div id="audio-controls">
          <button id="music-toggle">‚ô™ MUSIC: OFF</button>
          <button id="sfx-toggle" class="active">üîä SFX: ON</button>
        </div>
        <div id="saber-status"></div>
        <div id="ping-display"></div>
        <div id="instructions">
          WASD - Move | MOUSE - Look + Saber | SHIFT - Saber Only | SPACE - Jump
          | F - Toggle Saber
        </div>
      </div>

      <!-- Game Over -->
      <div id="game-over-screen">
        <div id="game-over-text">YOU WIN!</div>
        <button class="game-over-btn" id="restart-btn">RESTART</button>
        <button class="game-over-btn" id="menu-btn">MAIN MENU</button>
      </div>
    </div>

    <script type="module" src="/src/js/game.js"></script>
  </body>
</html>
